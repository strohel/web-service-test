\documentclass[12pt]{beamer}

\usetheme{Air}
\usepackage[czech]{babel}
\usepackage{thumbpdf}
\usepackage{wasysym}
\usepackage{ucs}
\usepackage[utf8]{inputenc}
\usepackage{verbatim}

\pdfinfo
{
  /Title       (Web Services)
  /Creator     (TeX)
  /Author      (Matěj Laitl, Matěj Novotný)
}


\title{Web Services}
\subtitle{Aby byly strojově čitelné zprávy čitelné i pro vás}
\author{Matěj Laitl, Matěj Novotný}
\date{\today}

\begin{document}

\frame{\titlepage}

\section*{}
\begin{frame}
  \frametitle{Co si dnes povíme}
  \tableofcontents[section=1,hidesubsections]
\end{frame}

\AtBeginSection[]
{
  \frame<handout:0>
  {
    \frametitle{Přehled}
    \tableofcontents[currentsection,hideallsubsections]
  }
}

\AtBeginSubsection[]
{
  \frame<handout:0>
  {
    \frametitle{Přehled}
    \tableofcontents[sectionstyle=show/hide,subsectionstyle=show/shaded/hide]
  }
}

\newcommand<>{\highlighton}[1]{%
  \alt#2{\structure{#1}}{{#1}}
}

\newcommand{\icon}[1]{\pgfimage[height=1em]{#1}}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%% Content starts here %%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\section{Web Services}

\begin{frame}
  \frametitle{Co jsou Web Services}
  \framesubtitle{...aby nebyl nikdo zmatený}

  \begin{alertblock}{Web Services nejsou:}
    \begin{itemize}
      \item Prohlížení webu skrz webový prohlížeč
      \item Na web zaměřené služby typu webhosting
    \end{itemize}
  \end{alertblock}
\end{frame}

\begin{frame}
  \frametitle{Co jsou Web Services}
  \framesubtitle{Definice - Věta - Důkaz}

  \uv{Mechanismus pro výměnu strojově čitelných dat po síti}

  \vspace{5mm}

  \begin{block}{Web Services jsou:}
    \begin{itemize}
      \item nezávislé na programovacím jazyku
      \item nezávislé na architektuře zůčastněných strojů
      \item uzpůsobené k překonání NATů a FireWallů
    \end{itemize}
  \end{block}
\end{frame}

\begin{frame}
  \frametitle{Vlastnosti Web Services}

  \begin{block}{Klíčové vlastnosti:}
    \begin{itemize}
      \item výměna probíhá mezi \highlighton{klientem} a \highlighton{serverem}
      \item data jsou \highlighton{strukturovaná}
      \item rozhraní je popsané ve \highlighton{strojově zpracovatelném tvaru}
      \item pro komunikaci se využívá \highlighton{aplikační vrstva} síťového modelu
    \end{itemize}
  \end{block}
\end{frame}

\begin{frame}
  \frametitle{Rozdělení Web Services}
  \framesubtitle{...abychom si to zaškatulkovali}
	\begin{itemize}
      \item {\LARGE Big web services}
		\begin{itemize}
			\item Podniková řešení
			\item SOAP, XML, WSDL
		\end{itemize}
      \vspace{1cm}
      \item {\LARGE RESTful}
		\begin{itemize}
			\item API webových služeb
		\end{itemize}
    \end{itemize}
\end{frame}

\begin{frame}
	\frametitle{Big Web Services}
	\framesubtitle{\uv{Velké} služby}
	\begin{itemize}
		\item zaměření na volání procedur a funkcí
		\item definice rozhraní pomocí \highlighton{WSDL} (Web Services Description Language)
		\item výměna zpráv pomocí \highlighton{HTTP} (popřípadě SMTP, RPC)
		\item formát požadavku i odpovědi specifikuje \highlighton{SOAP} (Simple Object Access Protocol)
		\begin{itemize}
			\item HTTP se používá pouze pro transport SOAP zprávy
		\end{itemize}
	\end{itemize}
\end{frame}

\begin{frame}
  \frametitle{RESTful Web Services}
  \framesubtitle{...často ještě větší služby}
	\begin{itemize}
		\item architektura \highlighton{REST} (Representational State Transfer)
		\item zaměření na data
		\item protokol je bezstavový
		\item využívá dotazovací metody \highlighton{HTTP}
	\end{itemize}
	\begin{example}
		Twitter API, Atom, Dropbox API, fakturoid API
	\end{example}
\end{frame}

\begin{frame}
	\frametitle{RESTful Web Services}
	\framesubtitle{Ukázka}
	\begin{itemize}
		\item Mějme prvek s URI \highlighton{http://abc.cz/data/42}
		\begin{itemize}
			\item Metoda \highlighton{GET}: vrátí požadovaný prvek
			\item Metoda \highlighton{PUT}: změní data prvku
			\item Metoda \highlighton{DELETE}: smaže prvek
		\end{itemize}
	\end{itemize}
	
\end{frame}

\begin{frame}
  \frametitle{Zaměření}

  \begin{example}
    Od teď dále se budeme věnovat tzv. Big Web Services
  \end{example}
\end{frame}

\section{SOAP}

\begin{frame}
  \frametitle{Něco málo o SOAPu}
  \framesubtitle{...nikoliv o mýdle}

  Dříve \uv{Simple Object Access Protocol}, nyní prostě \uv{SOAP}

  \begin{block}{SOAP:}
    \begin{itemize}
      \item je protokol pro výměnu strukturovaných informací
      \item používá \highlighton{XML} pro reprezentaci dat
      \item používá aplikační vrstvu pro přenos zpráv (HTTP, RPC, SMTP)
    \end{itemize}
  \end{block}

  \begin{block}{SOAP trivia:}
    \begin{itemize}
      \item vznikl r. 1998 jako projekt Microsoftu\copyright
      \item r. 2003 se verze 1.2 stala W3C doporučením
    \end{itemize}
  \end{block}
\end{frame}

\begin{frame}
  \frametitle{Vzory pro výměnu zpráv}
  \framesubtitle{...neboli Message Exchange Patterns}

  \begin{block}{SOAP definuje:}
    \begin{itemize}
      \item \uv{obálku}: formát zprávy a jak jí zpracovat (envelope)
      \item pravidla pro kódování uživatelských datových typů
      \item konvenci pro volání procedur a obdržení odpovědi
      \item vazbu na protokoly, nad nimiž funguje
    \end{itemize}
  \end{block}
\end{frame}

\begin{frame}
  \frametitle{Ještě více o SOAPu}

  \begin{block}{SOAP definuje:}
    \begin{itemize}
      \item \uv{obálku}: formát zprávy a jak jí zpracovat (envelope)
      \item pravidla pro kódování uživatelských datových typů
      \item konvenci pro volání procedur a obdržení odpovědi
      \item vazbu na protokoly, nad nimiž funguje
    \end{itemize}
  \end{block}
\end{frame}

\section{WSDL}

\begin{frame}
  \frametitle{Přístupy k implementaci serveru}
  \framesubtitle{Na co si dát pozor}

  \begin{enumerate}
    \item Napsat WSDL, vygenerovat prázdnou implementaci
    \begin{itemize}
      \alert{\item Pozor na na pozdější úpravy}
    \end{itemize}
    \vspace{4mm}
    \item Naimplementovat server, vygenerovat WSDL
    \vspace{4mm}
    \item Napsat obojí ručně
    \begin{itemize}
      \item \highlighton{Nelze doporučit}, pouze pro otrlé
    \end{itemize}
  \end{enumerate}
\end{frame}

\begin{frame}
  \frametitle{Ukázka WSDL}

  \begin{example}
    Matěji, teď ukaž WSDL 2.0, které máš připravené
  \end{example}
\end{frame}

\section{Ukázky kódů}

\begin{frame}
  \frametitle{Generovaní klienta z WSDL}
  \framesubtitle{...bylo by nudné to psát ručně}

	\begin{block}{Některé knihovny pro generování}
		\begin{itemize}
			\item \highlighton{Java:} Apache Axis, WSDL2Java, Spring
			\item \highlighton{Cocoa:} WSMakeStubs (zastaralé, bez úpravy kódu nefunkční)
		\end{itemize}    	
  \end{block}
	\begin{example}
		Matěji, a teď ukaž, jak se generuje javový kód. Pak tu nám ukaž funkčního klienta.
	\end{example}
\end{frame}

\begin{frame}
  \frametitle{Dynamicky vytvořený klient v Pythonu}
  \framesubtitle{...někdo generování nepotřebuje}

  \begin{example}
    Matěji, a teď ukaž, jak to lze celé udělat na 3 řádky.
    \begin{itemize}
      \item použita pythonová knihovna \highlighton{pysimplesoap}
    \end{itemize}
  \end{example}
\end{frame}

\begin{frame}
  \frametitle{Server v Pythonu}
  \framesubtitle{...čím línější programátor, tým vyšší jazyk}

  \begin{example}
    Matěji, a teď ukaž, jak udělat server v Pythonu.
    \begin{itemize}
      \item znovu \highlighton{pysimplesoap} použitý ve frameworku \highlighton{web2py}
    \end{itemize}
  \end{example}
\end{frame}

\begin{frame}
  \frametitle{SOAP zpráva}
  \framesubtitle{...pohled pod pokličku}

  \begin{example}
    Matěji, teď se kouknem na SOAP zprávu zachycenou nebo někde zobrazenou
  \end{example}
\end{frame}

\begin{frame}
  \frametitle{Zdroje}
  \framesubtitle{Pokud se chcete dovědět víc}
  \begin{thebibliography}{10}

  \beamertemplatearticlebibitems

  \bibitem{projekt-na-githubu}
    Zdrojáky serveru, klientů a prezentace
    \newblock {\tt http://github.com/strohel/web-service-test}

  \bibitem{wsdl}
    Předmluva k WSDL 2.0 specifikaci
    \newblock {\tt http://www.w3.org/TR/wsdl20-primer/}

  \bibitem{soap}
    Předmluva k SOAP specifikaci
    \newblock {\tt http://TODO/}

  \bibitem{xml-schema}
    XML Schema
    \newblock {\tt http://www.w3.org/TR/xmlschema-0/}

  \bibitem{verejne-web-sluzby}
    Seznam veřejných Web Sevices
    \newblock {\tt http://TODO/}

  \end{thebibliography}
\end{frame}

\begin{frame}
  \vspace{2cm}
  {\huge Otázky?}

  \vspace{3cm}
  \begin{flushright}
    Matěj Laitl, Matěj Novotný

    \structure{\footnotesize{matej@laitl.cz, mates.novotny@gmail.com}}
  \end{flushright}
\end{frame}

\end{document}
